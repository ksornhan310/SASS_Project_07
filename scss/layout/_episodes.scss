@use "../base/variables" as vars;
@use "../base/mixins" as mixins;

/*============== Episodes ==============*/
.episodes {
    margin-top: 100px;
    padding: 100px 0;
    background: var(--background-color-primary);

    &__top {
        @include mixins.flex-center($justify-content: space-between);
    }

    &__heading {
        max-width: 390px;

        &-highlight {
            position: relative;
            z-index: 0;
            font-size: inherit;
        }

        &-decor {
            position: absolute;
            z-index: -1;
            bottom: -5%;
            left: 10%;
            width: 3.3em;
        }
    }

    // Episodes List
    &__list {
        margin-top: 84px;
    }

    // Episode Item
    &-item {
        @include mixins.flex-center($justify-content: space-between);
        width: 100%;
        height: 286px;
        cursor: pointer;

        &--reverse {
            flex-direction: row-reverse;
        }

        &:hover &__thumb {
            transform: scale(1.05);
        }

        &:hover &__link>* {
            color: var(--color-primary);
        }

        &__image,
        &__content {
            width: calc((100% - vars.$grid-gutter-width) / 2);
        }

        &__image {
            height: 100%;
            border-radius: 8px;
            overflow: hidden;
        }

        &__thumb {
            width: 100%;
            height: 100%;
            transition: transform 0.3s ease;
        }

        // Content        
        &__info {
            font-size: clamp(1rem, 1vw + 0.5rem, var(--font-size-sm));
            line-height: 1.7;
            color: var(--color-secondary);
        }

        &__heading {
            margin-top: 6px;
            font-weight: 700;
            font-size: clamp(1.2rem, 1vw + 0.75rem, var(--font-size-item-heading));
            line-height: 1.5;
            color: var(--heading-color-primary);
        }

        &__desc {
            --line-clamp: 3;

            margin-top: 18px;
            font-size: clamp(1rem, 1vw + 0.5rem, var(--font-size-md));
            line-height: 1.75;
            color: var(--text-color-primary);
        }

        &__link {
            @include mixins.flex-center($justify-content: null);

            column-gap: 6px;
            margin-top: 11px;

            &-label {
                font-weight: 600;
                font-size: clamp(1rem, 1vw + 0.5rem, var(--font-size-sm));
                line-height: 1.7;
                color: var(--heading-color-primary);
            }

            &-icon,
            &-label {
                transition: color 0.3s ease;
            }

            &-icon {
                @include mixins.flex-center();
                width: 14px;
                height: 14px;
                border-radius: 50%;
                color: var(--heading-color-primary);
                background: currentColor;
            }

            &-chevron {
                width: 6px;
                height: 6px;
                border-radius: 0;
                object-fit: none;
            }
        }
    }

    // Control
    &__control {
        margin-top: 55px;
    }
}

/*============== Responsive Episodes ==============*/
// PC
@media (min-width: 992px) {
    .episodes__btn--mobile {
        display: none;
    }
}

@media (max-width: 991.98px) {
    .episodes {
        margin-top: 40px;
        padding: 70px 0;

        &__btn {
            display: none;

            &--mobile {
                display: inline-block;
                margin-top: 38px;
            }
        }

        &__list {
            margin-top: 38px;
            overflow: hidden;
            
            &-row {
                flex-wrap: nowrap;
            }
        }

        &-item {
            height: 170px;

            &__desc {
                margin-top: 12px;
            }

            &__link {
                margin-top: 7px;

                &-icon {
                    width: 10px;
                    height: 10px;
                }

                &-chevron {
                    width: 4px;
                    height: 4px;
                }
            }
        }

        &__control {
            margin-top: 18px;
        }
    }
}